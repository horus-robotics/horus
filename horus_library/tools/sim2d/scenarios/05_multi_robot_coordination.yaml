version: "1.0"
name: "Multi-Robot Coordination"
description: "Coordinate multiple robots to avoid collisions and reach goals"

world:
  width: 20.0
  height: 20.0
  obstacles:
    # Central obstruction
    - pos: [10.0, 10.0]
      size: [4.0, 4.0]
      shape: rectangle
      color: [0.5, 0.5, 0.5]

    # Narrow passage walls
    - pos: [10.0, 5.0]
      size: [0.5, 4.0]
      shape: rectangle
      color: [0.4, 0.4, 0.4]

    - pos: [10.0, 15.0]
      size: [0.5, 4.0]
      shape: rectangle
      color: [0.4, 0.4, 0.4]

robots:
  - name: "robot1"
    position: [3.0, 10.0]
    heading: 0.0
    velocity: [0.0, 0.0]
    config:
      name: "robot1"
      topic_prefix: "/robot1"
      position: [3.0, 10.0]
      width: 0.5
      length: 0.8
      max_speed: 1.5
      color: [1.0, 0.3, 0.3]
      kinematics:
        kinematic_type: differential
      lidar:
        enabled: true
        range_max: 10.0
        range_min: 0.1
        num_rays: 360
        angle_min: -3.14159
        angle_max: 3.14159
      camera:
        enabled: false

  - name: "robot2"
    position: [17.0, 10.0]
    heading: 3.14159
    velocity: [0.0, 0.0]
    config:
      name: "robot2"
      topic_prefix: "/robot2"
      position: [17.0, 10.0]
      width: 0.5
      length: 0.8
      max_speed: 1.5
      color: [0.3, 1.0, 0.3]
      kinematics:
        kinematic_type: differential
      lidar:
        enabled: true
        range_max: 10.0
        range_min: 0.1
        num_rays: 360
        angle_min: -3.14159
        angle_max: 3.14159
      camera:
        enabled: false

  - name: "robot3"
    position: [10.0, 3.0]
    heading: 1.5708
    velocity: [0.0, 0.0]
    config:
      name: "robot3"
      topic_prefix: "/robot3"
      position: [10.0, 3.0]
      width: 0.5
      length: 0.8
      max_speed: 1.5
      color: [0.3, 0.3, 1.0]
      kinematics:
        kinematic_type: differential
      lidar:
        enabled: true
        range_max: 10.0
        range_min: 0.1
        num_rays: 360
        angle_min: -3.14159
        angle_max: 3.14159
      camera:
        enabled: false

simulation:
  time: 0.0
  timestep: 0.016
  paused: false

# Goal: Coordinate three robots to swap positions without collisions
# Target positions:
#   robot1: (3.0, 10.0) → (17.0, 10.0)
#   robot2: (17.0, 10.0) → (10.0, 17.0)
#   robot3: (10.0, 3.0) → (3.0, 10.0)
#
# Control each robot via separate topics:
#   /robot1/cmd_vel
#   /robot2/cmd_vel
#   /robot3/cmd_vel
#
# Monitor positions and velocities:
#   horus monitor /robot1/odom
#   horus monitor /robot2/odom
#   horus monitor /robot3/odom
#
# Challenge: Implement coordination to avoid inter-robot collisions!
# Tips:
#   - Use LIDAR to detect other robots
#   - Implement priority-based motion planning
#   - Consider using leader-follower approach
#   - Test with different coordination strategies
